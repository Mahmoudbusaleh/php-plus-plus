<?php

// ١. استدعاء المحرك:
// نقوم بتضمين ملف البوتستراب الذي يقوم بتهيئة البيئة وربط C++ وتفعيل الكلاسات.
include 'pp.php';

/**
 * ٢. تعريف المسارات (Route Definitions):
 * هنا نستخدم الدوال المختصرة التي توفرها PHP++ للتعامل مع الطلبات.
 */

// مسار الصفحة الرئيسية:
// عند زيارة الرابط "/"، سيقوم النظام باستدعاء واجهة 'home' من مجلد views.
get('/', function() {
    view('home'); 
});

// مسار تجريبي بسيط:
// يوضح كيف يمكن إرجاع نصوص مباشرة (HTML) للمتصفح دون الحاجة لملف واجهة.
get('/hello', function() {
    return "<h1>أهلاً بك في عالم PHP++</h1>";
});

/**
 * ٣. إطلاق المحرك (Engine Launch):
 * دالة dispatch هي التي تعطي الأمر لـ C++ لبدء مطابقة الرابط الحالي
 * وتنفيذ الكود المناسب (Callback).
 */
dispatch();
